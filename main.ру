import http.server
import socketserver
import threading

def run_server():
    # Этот кусок кода «обманет» Render, открыв нужный ему порт
    PORT = 8080
    handler = http.server.SimpleHTTPRequestHandler
    with socketserver.TCPServer(("", PORT), handler) as httpd:
        print(f"--- СЕРВЕР ЗАПУЩЕН НА ПОРТУ {PORT} ---")
        httpd.serve_forever()

# Запускаем «ответчик» в отдельном потоке
threading.Thread(target=run_server, daemon=True).start()

# А это — твое агентство
print("--- АГЕНТСТВО ААРОНА ЗАПУЩЕНО И РАБОТАЕТ ---")

# Чтобы программа не закрывалась
import time
while True:
    time.sleep(10)
